var edit_history=[];function undo_changes(){save_state(edit_history.pop()),console.log(edit_history)}function save_history(){edit_history.push($("#all-tasks").html())}function restore_state(){$("#all-tasks").html(localStorage.getItem("data"))}function save_state(t=null){$(".text-primary").removeClass("text-primary"),null===t&&(t=$("#all-tasks").html()),localStorage.setItem("data",t),restore_state()}function add_task(t){save_history(),$(t).parent().next().prepend('<div class="task-item"><div class="task-meta"><div class="task-title" onkeyup="$(this).addClass(\'text-primary\')" onfocusin="save_history();" onfocusout="save_state();" contenteditable="true" style="outline: none">Untitled</div><div class="task-delete-button" onclick="toggle_task_indicator(this);"><div class="task-indicator"></div></div><div class="task-delete-button" onclick="delete_task(this)">delete</div><div class="task-delete-button" onclick="add_task(this)">add</div><div class="task-delete-button" onclick="task_close(this)">expand_more</div></div><div class="task-children"></div></div>'),save_state()}function toggle_task_indicator(t){save_history(),$(t).children().toggleClass("task-indicator-on"),save_state()}function delete_task(t){save_history(),$(t).parent().parent().remove(),save_state()}function task_close(t){$(t).parent().toggleClass("task-meta-closed"),$(t).parent().hasClass("task-meta-closed")?$(t).html("expand_more"):$(t).html("expand_less"),$(t).parent().next().toggle()}restore_state();
//# sourceMappingURL=index.cdbdf13b.js.map
